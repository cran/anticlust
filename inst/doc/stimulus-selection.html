<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Using the R package anticlust for stimulus selection in experiments</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using the R package anticlust for stimulus selection in experiments</h1>



<p>This tutorial teaches you how to use the <code>R</code> package <code>anticlust</code> for stimulus selection in psychological experiments. All code can easily be reproduced via Copy &amp; Paste. The tutorial discusses the following functionalities:</p>
<ul>
<li>Match similar stimuli based on covariates of interest</li>
<li>Minimize differences between stimulus sets with regard to some variables</li>
<li>Maximize differences between stimulus sets with regard to some variables</li>
<li>Balance the occurrence of a categorical variable between stimulus sets</li>
</ul>
<p>To follow the code in this tutorial, load the <code>anticlust</code> package first:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(anticlust)</a></code></pre></div>
<p>For the examples in this document, we use norming data for a stimulus set provided by Schaper, Kuhlmann and Bayen (2019a, 2019b). It is available when the package <code>anticlust</code> is loaded:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">data</span>(<span class="st">&quot;schaper2019&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co"># look at the data</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">head</span>(schaper2019)</a></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">item</th>
<th align="left">room</th>
<th align="right">rating_consistent</th>
<th align="right">rating_inconsistent</th>
<th align="right">syllables</th>
<th align="right">frequency</th>
<th align="right">list</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Feuchtigkeitsmaske</td>
<td align="left">bathroom</td>
<td align="right">4.10</td>
<td align="right">1.04</td>
<td align="right">5</td>
<td align="right">21</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Damenbinden</td>
<td align="left">bathroom</td>
<td align="right">4.22</td>
<td align="right">1.12</td>
<td align="right">4</td>
<td align="right">19</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Haarspray</td>
<td align="left">bathroom</td>
<td align="right">4.32</td>
<td align="right">1.13</td>
<td align="right">2</td>
<td align="right">17</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Tampon</td>
<td align="left">bathroom</td>
<td align="right">4.35</td>
<td align="right">1.22</td>
<td align="right">2</td>
<td align="right">17</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Badewanne</td>
<td align="left">bathroom</td>
<td align="right">4.55</td>
<td align="right">1.02</td>
<td align="right">4</td>
<td align="right">13</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Ohrenstaebchen</td>
<td align="left">bathroom</td>
<td align="right">4.63</td>
<td align="right">1.26</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<p>The item pool consists of 96 German words, given in the column <code>item</code>. Each word represents an object that is either typically found in a bathroom or in a kitchen. For their experiments, Schaper et al.  partitioned the pool into 3 word lists that should be as similar as possible with regard to four numeric criteria (that is: <code>rating_consistent</code>, <code>rating_inconsistent</code>, <code>syllables</code>, <code>frequency</code>). Typically, stimulus sets may contain more than 96 elements (and the selection usually becomes more effective when the pool is larger), but the logic for stimulus selection that is applied in this tutorial can be transfered to arbitrarily large stimulus sets.</p>
<div id="example-1a-maximize-differences-in-frequency" class="section level2">
<h2>Example 1a: Maximize differences in frequency</h2>
<p>In the first example, I select two word lists that differ on frequency but are as similar as possible with regard to consistency ratings and the number of syllables. First, I need to define the boundaries that define “high” and “low” frequency. Note that <code>frequency</code> is reverse-coded such that low values actually indicate high frequency. Here, I arbitrarily define values below 18 as “high” frequency and above 19 as “low” frequency, but any user-defined splits are possible.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">schaper2019 &lt;-<span class="st"> </span><span class="kw">within</span>(schaper2019, {</a>
<a class="sourceLine" id="cb3-2" title="2">  freq &lt;-<span class="st"> </span><span class="kw">ifelse</span>(frequency <span class="op">&lt;</span><span class="st"> </span><span class="dv">18</span>, <span class="st">&quot;high&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb3-3" title="3">  freq &lt;-<span class="st"> </span><span class="kw">ifelse</span>(frequency <span class="op">&gt;</span><span class="st"> </span><span class="dv">19</span>, <span class="st">&quot;low&quot;</span>, freq)</a>
<a class="sourceLine" id="cb3-4" title="4">})</a></code></pre></div>
<p>This code defined a new column <code>freq</code> for the data set <code>schaper2019</code> that is either “low”, “high” or missing (<code>NA</code>). Let’s check it out:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">schaper2019<span class="op">$</span>freq</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co">#&gt;  [1] &quot;low&quot;  NA     &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;low&quot;  NA     &quot;high&quot; &quot;high&quot; &quot;low&quot; </span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt; [11] NA     &quot;low&quot;  &quot;high&quot; &quot;high&quot; NA     &quot;high&quot; &quot;high&quot; &quot;high&quot; &quot;low&quot;  &quot;low&quot; </span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; [21] &quot;high&quot; &quot;low&quot;  &quot;high&quot; &quot;high&quot; &quot;low&quot;  NA     &quot;low&quot;  &quot;high&quot; &quot;low&quot;  &quot;high&quot;</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; [31] NA     &quot;high&quot; &quot;high&quot; &quot;high&quot; NA     NA     &quot;low&quot;  NA     &quot;low&quot;  &quot;high&quot;</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; [41] &quot;low&quot;  NA     &quot;low&quot;  &quot;high&quot; &quot;low&quot;  &quot;high&quot; NA     NA     NA     NA    </span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; [51] NA     &quot;low&quot;  &quot;low&quot;  &quot;low&quot;  NA     &quot;high&quot; &quot;high&quot; &quot;low&quot;  &quot;low&quot;  &quot;low&quot; </span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt; [61] &quot;low&quot;  NA     &quot;high&quot; &quot;high&quot; NA     &quot;low&quot;  NA     &quot;low&quot;  NA     NA    </span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; [71] &quot;low&quot;  NA     NA     &quot;low&quot;  &quot;low&quot;  NA     NA     &quot;high&quot; &quot;high&quot; NA    </span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt; [81] &quot;low&quot;  &quot;low&quot;  NA     &quot;low&quot;  &quot;high&quot; &quot;high&quot; NA     &quot;high&quot; &quot;low&quot;  &quot;high&quot;</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt; [91] NA     NA     &quot;high&quot; NA     NA     &quot;high&quot;</span></a></code></pre></div>
<p>Before matching high and low frequency words, it is necessary to remove cases that are not selected, i.e. where the entry in <code>freq</code> is <code>NA</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">selected &lt;-<span class="st"> </span><span class="kw">subset</span>(schaper2019, <span class="op">!</span><span class="kw">is.na</span>(freq))</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co"># see how many cases were selected:</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">table</span>(selected<span class="op">$</span>freq)</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; high  low </span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt;   33   31</span></a></code></pre></div>
<p>Now, I use the <code>anticlust</code> function <code>matching()</code> to find paired words of high and low frequency that are as similar as possible on consistency and the number of syllables:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># Match the conditions based on covariates</span></a>
<a class="sourceLine" id="cb6-2" title="2">covariates &lt;-<span class="st"> </span><span class="kw">scale</span>(selected[, <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>])</a>
<a class="sourceLine" id="cb6-3" title="3">selected<span class="op">$</span>matches &lt;-<span class="st"> </span><span class="kw">matching</span>(</a>
<a class="sourceLine" id="cb6-4" title="4">  covariates, </a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="dt">match_between =</span> selected<span class="op">$</span>freq,</a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="dt">match_within =</span> selected<span class="op">$</span>room,</a>
<a class="sourceLine" id="cb6-7" title="7">  <span class="dt">match_extreme_first =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb6-8" title="8">)</a></code></pre></div>
<p>The first argument defines the covariates that should be similar in both sets. I used the function <code>scale()</code> before passing the covariates to the matching function to standardize the variables. This way, each variable has the same weight in the matching process, which is usually desirable. The argument <code>match_between</code> is the grouping variable based on <code>frequency</code> that I just defined. The argument <code>match_within</code> is used to ensure that matches are selected between words belonging to the same room. The argument <code>match_extreme_first</code> is used to guide the behaviour of the matching algorithm, but its precise meaning is not important for now (for more information, see <code>?matching</code>). Generally, if we plan to only keep a subset of all matches – as we do in the current application –, we set <code>match_extreme_first</code> to <code>FALSE</code>. If we want to keep all elements, <code>match_extreme_first = TRUE</code> is usually better.</p>
<p>Next, let us check out some of the matches we created:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">subset</span>(selected, matches <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="2%"></col>
<col width="12%"></col>
<col width="8%"></col>
<col width="17%"></col>
<col width="19%"></col>
<col width="9%"></col>
<col width="9%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="7%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">item</th>
<th align="left">room</th>
<th align="right">rating_consistent</th>
<th align="right">rating_inconsistent</th>
<th align="right">syllables</th>
<th align="right">frequency</th>
<th align="right">list</th>
<th align="left">freq</th>
<th align="right">matches</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">12</td>
<td align="left">Wattepad</td>
<td align="left">bathroom</td>
<td align="right">4.39</td>
<td align="right">1.14</td>
<td align="right">3</td>
<td align="right">21</td>
<td align="right">1</td>
<td align="left">low</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">44</td>
<td align="left">Rasierschaum</td>
<td align="left">bathroom</td>
<td align="right">4.39</td>
<td align="right">1.16</td>
<td align="right">3</td>
<td align="right">17</td>
<td align="right">2</td>
<td align="left">high</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">subset</span>(selected, matches <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</a></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="2%"></col>
<col width="13%"></col>
<col width="7%"></col>
<col width="17%"></col>
<col width="19%"></col>
<col width="9%"></col>
<col width="9%"></col>
<col width="4%"></col>
<col width="4%"></col>
<col width="7%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">item</th>
<th align="left">room</th>
<th align="right">rating_consistent</th>
<th align="right">rating_inconsistent</th>
<th align="right">syllables</th>
<th align="right">frequency</th>
<th align="right">list</th>
<th align="left">freq</th>
<th align="right">matches</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">29</td>
<td align="left">Zuckerstreuer</td>
<td align="left">kitchen</td>
<td align="right">4.48</td>
<td align="right">1.04</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">1</td>
<td align="left">low</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">86</td>
<td align="left">Mikrowelle</td>
<td align="left">kitchen</td>
<td align="right">4.58</td>
<td align="right">1.04</td>
<td align="right">4</td>
<td align="right">15</td>
<td align="right">3</td>
<td align="left">high</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
</div>
<p>The matches are numbered by similarity, meaning that matches with grouping number 1 are most similar. Therefore, we can easily select the 8 best-matched groups of words that we would like include in our experiment:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># Select the 8 best matches:</span></a>
<a class="sourceLine" id="cb9-2" title="2">final_selection &lt;-<span class="st"> </span><span class="kw">subset</span>(selected, matches <span class="op">&lt;=</span><span class="st"> </span><span class="dv">8</span>)</a></code></pre></div>
<p>Last, we check the quality of the results by investigating the descriptive statistics – means and standard deviations (in brackets) – by condition:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># Check quality of the selection:</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">mean_sd_tab</span>(</a>
<a class="sourceLine" id="cb10-3" title="3">  final_selection[, <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>], </a>
<a class="sourceLine" id="cb10-4" title="4">  final_selection<span class="op">$</span>freq</a>
<a class="sourceLine" id="cb10-5" title="5">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">rating_consistent</th>
<th align="left">rating_inconsistent</th>
<th align="left">syllables</th>
<th align="left">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">high</td>
<td align="left">4.39 (0.17)</td>
<td align="left">1.10 (0.05)</td>
<td align="left">3.50 (0.53)</td>
<td align="left">16.25 (0.71)</td>
</tr>
<tr class="even">
<td align="left">low</td>
<td align="left">4.38 (0.14)</td>
<td align="left">1.09 (0.03)</td>
<td align="left">3.50 (0.53)</td>
<td align="left">21.12 (0.64)</td>
</tr>
</tbody>
</table>
<p>The descriptive statistics are similar across the sets for the consistency ratings and the number of syllables, and dissimilar for frequency, which is good. In general, the results can even be improved if we can select from a larger item pool (then, more matches are possible).</p>
<p>If we are not sure how many items should be part of our experiment, the function <code>plot_similarity()</code> may help. It plots an index of similarity (see <code>?plot_similarity</code>) for each match:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">plot_similarity</span>(</a>
<a class="sourceLine" id="cb11-2" title="2">  covariates, </a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="dt">groups =</span> selected<span class="op">$</span>matches</a>
<a class="sourceLine" id="cb11-4" title="4">)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The figure depicts the sum of pairwise dissimilarities (based on the Euclidean distance) variance per match; the larger the value, the less homogenous the match. It seems indeed that the first eight matches are most similar; after the 8th match, there is already a notable decline in similarity.</p>
</div>
<div id="example-1b-two-factorial-design" class="section level2">
<h2>Example 1b: Two-factorial design</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># Reload the data for next example</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">data</span>(<span class="st">&quot;schaper2019&quot;</span>)</a></code></pre></div>
<p>In another example, we construct a two-factorial design: we create groups that differ on <code>rating_consistent</code> and <code>rating_inconsistent</code> (these properties are orthogonally crossed) but are similar on frequency and the number of syllables. First, we categorize the variables frequency and syllables into two levels, respectively. This time, I just use median splits, which means that I do not exclude any data in this first step:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">schaper2019 &lt;-<span class="st"> </span><span class="kw">within</span>(schaper2019, {</a>
<a class="sourceLine" id="cb13-2" title="2">  incon &lt;-<span class="st"> </span><span class="kw">ifelse</span>(rating_inconsistent <span class="op">&lt;</span><span class="st"> </span><span class="kw">median</span>(rating_inconsistent), <span class="st">&quot;low incon&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb13-3" title="3">  incon &lt;-<span class="st"> </span><span class="kw">ifelse</span>(rating_inconsistent <span class="op">&gt;=</span><span class="st"> </span><span class="kw">median</span>(rating_inconsistent), <span class="st">&quot;high incon&quot;</span>, incon)</a>
<a class="sourceLine" id="cb13-4" title="4">  con &lt;-<span class="st"> </span><span class="kw">ifelse</span>(rating_consistent <span class="op">&lt;=</span><span class="st"> </span><span class="kw">median</span>(rating_consistent), <span class="st">&quot;low con&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb13-5" title="5">  con &lt;-<span class="st"> </span><span class="kw">ifelse</span>(rating_consistent <span class="op">&gt;</span><span class="st"> </span><span class="kw">median</span>(rating_consistent), <span class="st">&quot;high con&quot;</span>, con)</a>
<a class="sourceLine" id="cb13-6" title="6">})</a></code></pre></div>
<p>Let us check how many words are left per condition:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">table</span>(schaper2019<span class="op">$</span>con, schaper2019<span class="op">$</span>incon)</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co">#&gt;           </span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co">#&gt;            high incon low incon</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co">#&gt;   high con         26        22</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co">#&gt;   low con          27        21</span></a></code></pre></div>
<p>Next, we conduct a matching between the four groups that resulted from crossing frequency and syllables:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># Match the conditions based on covariates</span></a>
<a class="sourceLine" id="cb15-2" title="2">covariates &lt;-<span class="st"> </span><span class="kw">scale</span>(schaper2019[, <span class="kw">c</span>(<span class="st">&quot;frequency&quot;</span>, <span class="st">&quot;syllables&quot;</span>)])</a>
<a class="sourceLine" id="cb15-3" title="3">schaper2019<span class="op">$</span>matches &lt;-<span class="st"> </span><span class="kw">matching</span>(</a>
<a class="sourceLine" id="cb15-4" title="4">  covariates, </a>
<a class="sourceLine" id="cb15-5" title="5">  <span class="dt">match_between =</span> schaper2019[, <span class="kw">c</span>(<span class="st">&quot;con&quot;</span>, <span class="st">&quot;incon&quot;</span>)],</a>
<a class="sourceLine" id="cb15-6" title="6">  <span class="dt">match_extreme_first =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb15-7" title="7">)</a></code></pre></div>
<p>In this application, each match consists of 4 words because we have 4 conditions, e.g.:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">subset</span>(schaper2019, matches <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<div class="kable-table">
<table style="width:100%;">
<colgroup>
<col width="2%"></col>
<col width="11%"></col>
<col width="7%"></col>
<col width="15%"></col>
<col width="17%"></col>
<col width="8%"></col>
<col width="8%"></col>
<col width="4%"></col>
<col width="7%"></col>
<col width="9%"></col>
<col width="6%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">item</th>
<th align="left">room</th>
<th align="right">rating_consistent</th>
<th align="right">rating_inconsistent</th>
<th align="right">syllables</th>
<th align="right">frequency</th>
<th align="right">list</th>
<th align="left">con</th>
<th align="left">incon</th>
<th align="right">matches</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">7</td>
<td align="left">Klobuerste</td>
<td align="left">bathroom</td>
<td align="right">4.82</td>
<td align="right">1.04</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">1</td>
<td align="left">high con</td>
<td align="left">low incon</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">47</td>
<td align="left">Kloschuessel</td>
<td align="left">bathroom</td>
<td align="right">4.84</td>
<td align="right">1.13</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">2</td>
<td align="left">high con</td>
<td align="left">high incon</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">51</td>
<td align="left">Sparschaeler</td>
<td align="left">kitchen</td>
<td align="right">4.32</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">18</td>
<td align="right">2</td>
<td align="left">low con</td>
<td align="left">low incon</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">57</td>
<td align="left">Kastenform</td>
<td align="left">kitchen</td>
<td align="right">4.10</td>
<td align="right">1.18</td>
<td align="right">3</td>
<td align="right">17</td>
<td align="right">2</td>
<td align="left">low con</td>
<td align="left">high incon</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<p>To decide how many matched groups we would like to keep, let’s check out the similarity plot:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># Plot covariate similarity by match:</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">plot_similarity</span>(covariates, schaper2019<span class="op">$</span>matches)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Based on the plot, we select the 10 best matches:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="co"># Select the 5 best matches:</span></a>
<a class="sourceLine" id="cb18-2" title="2">final_selection &lt;-<span class="st"> </span><span class="kw">subset</span>(schaper2019, matches <span class="op">&lt;=</span><span class="st"> </span><span class="dv">10</span>)</a></code></pre></div>
<p>Last, we check quality of the selection by printing the descriptive statistics by condition:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">mean_sd_tab</span>(</a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="kw">subset</span>(final_selection, <span class="dt">select =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>), </a>
<a class="sourceLine" id="cb19-3" title="3">  <span class="kw">paste</span>(final_selection<span class="op">$</span>con, final_selection<span class="op">$</span>incon)</a>
<a class="sourceLine" id="cb19-4" title="4">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">rating_consistent</th>
<th align="left">rating_inconsistent</th>
<th align="left">syllables</th>
<th align="left">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">high con high incon</td>
<td align="left">4.68 (0.15)</td>
<td align="left">1.15 (0.06)</td>
<td align="left">3.40 (0.70)</td>
<td align="left">19.10 (1.85)</td>
</tr>
<tr class="even">
<td align="left">high con low incon</td>
<td align="left">4.70 (0.18)</td>
<td align="left">1.04 (0.03)</td>
<td align="left">3.40 (0.70)</td>
<td align="left">18.90 (1.45)</td>
</tr>
<tr class="odd">
<td align="left">low con high incon</td>
<td align="left">4.32 (0.09)</td>
<td align="left">1.17 (0.04)</td>
<td align="left">3.40 (0.70)</td>
<td align="left">18.90 (1.66)</td>
</tr>
<tr class="even">
<td align="left">low con low incon</td>
<td align="left">4.26 (0.11)</td>
<td align="left">1.04 (0.03)</td>
<td align="left">3.40 (0.70)</td>
<td align="left">18.80 (1.55)</td>
</tr>
</tbody>
</table>
<p>Again, the covariates are quite similar between sets, but with a larger item pool even better results could be achieved.</p>
</div>
<div id="example-2-anticlustering" class="section level2">
<h2>Example 2: Anticlustering</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="co"># Reload the data for next example</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">data</span>(<span class="st">&quot;schaper2019&quot;</span>)</a></code></pre></div>
<p>In the next example, we wish to partition the entire pool of 96 items into 3 sets that are as similar as possible on all variables. That means that there is no independent variable that varies between conditions; the experimental manipulation is independent of the intrinsic stimulus properties. Creating stimulus sets that are overall similar to each other can be done using anticlustering (Papenberg &amp; Klau, 2020):</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="co">## Conduct anticlustering (assign all items to three similar groups)</span></a>
<a class="sourceLine" id="cb21-2" title="2">schaper2019<span class="op">$</span>anticluster &lt;-<span class="st"> </span><span class="kw">anticlustering</span>(</a>
<a class="sourceLine" id="cb21-3" title="3">  schaper2019[, <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>], </a>
<a class="sourceLine" id="cb21-4" title="4">  <span class="dt">K =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb21-5" title="5">  <span class="dt">objective =</span> <span class="st">&quot;variance&quot;</span></a>
<a class="sourceLine" id="cb21-6" title="6">)</a>
<a class="sourceLine" id="cb21-7" title="7"></a>
<a class="sourceLine" id="cb21-8" title="8"><span class="co">## check out quality of the solution</span></a>
<a class="sourceLine" id="cb21-9" title="9"><span class="kw">mean_sd_tab</span>(</a>
<a class="sourceLine" id="cb21-10" title="10">  <span class="kw">subset</span>(schaper2019, <span class="dt">select =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>), </a>
<a class="sourceLine" id="cb21-11" title="11">  schaper2019<span class="op">$</span>anticluster</a>
<a class="sourceLine" id="cb21-12" title="12">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">rating_consistent</th>
<th align="left">rating_inconsistent</th>
<th align="left">syllables</th>
<th align="left">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">4.49 (0.27)</td>
<td align="left">1.10 (0.07)</td>
<td align="left">3.44 (0.98)</td>
<td align="left">18.31 (2.26)</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">4.49 (0.24)</td>
<td align="left">1.10 (0.08)</td>
<td align="left">3.41 (0.91)</td>
<td align="left">18.31 (2.18)</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">4.49 (0.25)</td>
<td align="left">1.10 (0.05)</td>
<td align="left">3.41 (0.91)</td>
<td align="left">18.31 (2.75)</td>
</tr>
</tbody>
</table>
</div>
<div id="example-2b-anticlustering-on-subset-selection" class="section level2">
<h2>Example 2b: Anticlustering on subset selection</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="co"># Reload the data for next example</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">data</span>(<span class="st">&quot;schaper2019&quot;</span>)</a></code></pre></div>
<p>If we do not want to include all 96 words in our experiment, we can again use the <code>matching()</code> function to select a subset of similar stimuli that we employ. Again, we wish the select three groups that are as similar as possible on all variables, but we only use a subset of all 96 items. To achieve this goal, we create triplets of similar stimuli using <code>matching()</code>; afterwards, the items belonging to the same triplet will be assigned to different experimental sets. We use the argument <code>match_within</code> to ensure that all triplets consist of items belonging to the same room:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># First, identify triplets of similar word, within room</span></a>
<a class="sourceLine" id="cb23-2" title="2">covariates &lt;-<span class="st"> </span><span class="kw">scale</span>(schaper2019[, <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>])</a>
<a class="sourceLine" id="cb23-3" title="3">schaper2019<span class="op">$</span>triplet &lt;-<span class="st"> </span><span class="kw">matching</span>(</a>
<a class="sourceLine" id="cb23-4" title="4">  covariates,</a>
<a class="sourceLine" id="cb23-5" title="5">  <span class="dt">p =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb23-6" title="6">  <span class="dt">match_within =</span> schaper2019<span class="op">$</span>room</a>
<a class="sourceLine" id="cb23-7" title="7">)</a>
<a class="sourceLine" id="cb23-8" title="8"></a>
<a class="sourceLine" id="cb23-9" title="9"><span class="co"># check out the two most similar triplets:</span></a>
<a class="sourceLine" id="cb23-10" title="10"><span class="kw">subset</span>(schaper2019, triplet <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="3%"></col>
<col width="14%"></col>
<col width="8%"></col>
<col width="18%"></col>
<col width="20%"></col>
<col width="10%"></col>
<col width="10%"></col>
<col width="5%"></col>
<col width="8%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">item</th>
<th align="left">room</th>
<th align="right">rating_consistent</th>
<th align="right">rating_inconsistent</th>
<th align="right">syllables</th>
<th align="right">frequency</th>
<th align="right">list</th>
<th align="right">triplet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">19</td>
<td align="left">Kaffeebeutel</td>
<td align="left">kitchen</td>
<td align="right">4.31</td>
<td align="right">1.04</td>
<td align="right">4</td>
<td align="right">22</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">58</td>
<td align="left">Kaesemesser</td>
<td align="left">kitchen</td>
<td align="right">4.28</td>
<td align="right">1.04</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">59</td>
<td align="left">Cerankochfeld</td>
<td align="left">kitchen</td>
<td align="right">4.34</td>
<td align="right">1.04</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">subset</span>(schaper2019, triplet <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</a></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="3%"></col>
<col width="14%"></col>
<col width="8%"></col>
<col width="18%"></col>
<col width="20%"></col>
<col width="10%"></col>
<col width="10%"></col>
<col width="5%"></col>
<col width="8%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">item</th>
<th align="left">room</th>
<th align="right">rating_consistent</th>
<th align="right">rating_inconsistent</th>
<th align="right">syllables</th>
<th align="right">frequency</th>
<th align="right">list</th>
<th align="right">triplet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">27</td>
<td align="left">Buttermesser</td>
<td align="left">kitchen</td>
<td align="right">4.40</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">29</td>
<td align="left">Zuckerstreuer</td>
<td align="left">kitchen</td>
<td align="right">4.48</td>
<td align="right">1.04</td>
<td align="right">4</td>
<td align="right">21</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">53</td>
<td align="left">Salatbesteck</td>
<td align="left">kitchen</td>
<td align="right">4.48</td>
<td align="right">1.02</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">2</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="co"># Select the 10 best triplets</span></a>
<a class="sourceLine" id="cb25-3" title="3">best &lt;-<span class="st"> </span><span class="kw">subset</span>(schaper2019, triplet <span class="op">&lt;=</span><span class="st"> </span><span class="dv">10</span>)</a></code></pre></div>
<p>Now, we use <code>anticlustering()</code> to assign the matched words to different sets:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1">best<span class="op">$</span>anticluster &lt;-<span class="st"> </span><span class="kw">anticlustering</span>(</a>
<a class="sourceLine" id="cb26-2" title="2">  best[, <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>], </a>
<a class="sourceLine" id="cb26-3" title="3">  <span class="dt">K =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb26-4" title="4">  <span class="dt">categories =</span> best<span class="op">$</span>triplet,</a>
<a class="sourceLine" id="cb26-5" title="5">  <span class="dt">objective =</span> <span class="st">&quot;variance&quot;</span></a>
<a class="sourceLine" id="cb26-6" title="6">)</a></code></pre></div>
<p>In this function call, we pass the <code>triplets</code> to the argument <code>categories</code>, thus ensuring that the matched items are assigned to different sets. We can confirm this worked by looking at the cross table of <code>triplet</code> and <code>anticluster</code>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">table</span>(best<span class="op">$</span>triplet, best<span class="op">$</span>anticluster)</a>
<a class="sourceLine" id="cb27-2" title="2"><span class="co">#&gt;     </span></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="co">#&gt;      1 2 3</span></a>
<a class="sourceLine" id="cb27-4" title="4"><span class="co">#&gt;   1  1 1 1</span></a>
<a class="sourceLine" id="cb27-5" title="5"><span class="co">#&gt;   2  1 1 1</span></a>
<a class="sourceLine" id="cb27-6" title="6"><span class="co">#&gt;   3  1 1 1</span></a>
<a class="sourceLine" id="cb27-7" title="7"><span class="co">#&gt;   4  1 1 1</span></a>
<a class="sourceLine" id="cb27-8" title="8"><span class="co">#&gt;   5  1 1 1</span></a>
<a class="sourceLine" id="cb27-9" title="9"><span class="co">#&gt;   6  1 1 1</span></a>
<a class="sourceLine" id="cb27-10" title="10"><span class="co">#&gt;   7  1 1 1</span></a>
<a class="sourceLine" id="cb27-11" title="11"><span class="co">#&gt;   8  1 1 1</span></a>
<a class="sourceLine" id="cb27-12" title="12"><span class="co">#&gt;   9  1 1 1</span></a>
<a class="sourceLine" id="cb27-13" title="13"><span class="co">#&gt;   10 1 1 1</span></a></code></pre></div>
<p>Anticlustering strives to assign the matched triplets to the different sets in such a way that all sets are as similar as possible. Note that by ensuring that the triplets only consisted of items from the same room, the room was also balanced across anticlusters:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">table</span>(best<span class="op">$</span>room, best<span class="op">$</span>anticluster)</a>
<a class="sourceLine" id="cb28-2" title="2"><span class="co">#&gt;           </span></a>
<a class="sourceLine" id="cb28-3" title="3"><span class="co">#&gt;            1 2 3</span></a>
<a class="sourceLine" id="cb28-4" title="4"><span class="co">#&gt;   bathroom 5 5 5</span></a>
<a class="sourceLine" id="cb28-5" title="5"><span class="co">#&gt;   kitchen  5 5 5</span></a></code></pre></div>
<p>Last, we check out the descriptive statistics by anticluster, confirming that the sets are indeed quite similar on all numeric attributes:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="co">## check out quality of the solution</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="kw">mean_sd_tab</span>(</a>
<a class="sourceLine" id="cb29-3" title="3">  <span class="kw">subset</span>(best, <span class="dt">select =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">6</span>), </a>
<a class="sourceLine" id="cb29-4" title="4">  best<span class="op">$</span>anticluster</a>
<a class="sourceLine" id="cb29-5" title="5">)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">rating_consistent</th>
<th align="left">rating_inconsistent</th>
<th align="left">syllables</th>
<th align="left">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">4.45 (0.27)</td>
<td align="left">1.08 (0.06)</td>
<td align="left">3.50 (1.18)</td>
<td align="left">18.90 (2.96)</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">4.47 (0.29)</td>
<td align="left">1.08 (0.06)</td>
<td align="left">3.50 (0.97)</td>
<td align="left">19.00 (2.67)</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">4.47 (0.21)</td>
<td align="left">1.07 (0.05)</td>
<td align="left">3.50 (0.97)</td>
<td align="left">19.00 (2.36)</td>
</tr>
</tbody>
</table>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<p>Papenberg, M., &amp; Klau, G. W. (2021). Using anticlustering to partition data sets into equivalent parts. <em>Psychological Methods, 26</em>(2), 161–174. <a href="https://doi.org/10.1037/met0000301" class="uri">https://doi.org/10.1037/met0000301</a></p>
<p>Schaper, M. L., Kuhlmann, B. G., &amp; Bayen, U. J. (2019a). Metacognitive expectancy effects in source monitoring: Beliefs, in-the-moment experiences, or both? Journal of Memory and Language, 107, 95–110. <a href="https://doi.org/10.1016/j.jml.2019.03.009" class="uri">https://doi.org/10.1016/j.jml.2019.03.009</a></p>
<p>Schaper, M. L., Kuhlmann, B. G., &amp; Bayen, U. J. (2019b). Metamemory expectancy illusion and schema-consistent guessing in source monitoring. Journal of Experimental Psychology: Learning, Memory, and Cognition, 45, 470. <a href="https://doi.org/10.1037/xlm0000602" class="uri">https://doi.org/10.1037/xlm0000602</a></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
